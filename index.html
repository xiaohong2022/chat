<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://xiaohong2022.github.io/static/img/avatar.png">
<title>小宏の聊天室</title>
<style>
    div#app {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #bbb;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        flex-wrap: nowrap;
        align-content: center;
    }

    .app-content {
        background: #fff;
        border-radius: 20px;
        min-width: 80%;
        max-width: 80%;
        max-height: 70%;
        min-height: 70%;
        box-shadow: 0px 10px 30px 0px #888;
        width: 80%;
        height: 70%;
    }

    .app-content-title {
        padding: 20px;
        text-align: center;
        background: #47c2ff;
        border-radius: 20px 20px 0px 0px;
        font-size: 20px;
        color: #fff;
        user-select: none;
    }

    .app-content-body {
        display: flex;
        flex-direction: row;
        width: 100%;
        height: calc(100% - 66px - 51px);
    }

    .app-content-body-left {
        width: 100px;
        height: 100%;
        border-right: solid 1px #bbb;
    }

    .app-content-body-right {
        width: calc(100% - 100px);
        height: 100%;
        overflow: auto;
    }

    .app-content-input {
        padding: 10px 15px;
        border-top: solid 1px #bbb;
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    input {
        border: none;
        padding: 2px 3px;
        outline: none;
        width: calc(100% - 65px - 20px * 2 - 2.5px *4);
    }

    input:disabled {
        background-color: #fff;
        cursor: no-drop;
    }

    .app-content-body-left {
        display: flex;
        flex-direction: column;
        text-align: center;
    }

    .app-content-body-left-div {
        text-align: center;
        padding: 10px 0px;
        white-space: nowrap;
        text-overflow: ellipsis;
        width: 100%;
        overflow: hidden;
    }

    button {
        border: none;
        background: #0af;
        font-size: 15px;
        color: #fff;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 10px;
        transition: .3s;
    }

    button:hover {
        background: #009ae7;
    }

    button:active {
        transform: scale(.9);
    }

    button:disabled {
        opacity: .5;
        cursor: no-drop;
    }

    button:disabled:hover {
        background: #0af;
    }

    button:disabled:active {
        transform: scale(1);
    }

    .app-content-body-right-div {
        margin-left: 10px;
        margin-top: 5px;
        margin-bottom: 5px;
    }

    .app-content-body-right-div .app-content-body-right-div-bottom::selection {
        background: #38a3ff;
        color: #fff
    }

    .app-content-body-right-div-top {
        font-size: 14px;
        color: #888;
        margin-left: 2px;
        user-select: none;
    }

    .app-content-body-right-div-bottom {
        font-size: 16px;
        width: fit-content;
        background: #eee;
        padding: 5px 10px;
        border-radius: 5px;
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    .app-content-body-right-div.right {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        margin-right: 15px;
    }

    .app-content-body-right-div.right .app-content-body-right-div-bottom::selection {
        background: #fff;
        color: #38a3ff
    }

    .app-content-body-right-div.right .app-content-body-right-div-bottom {
        background: #38a3ff;
        color: #fff;
    }

    .app-content-body-right-xt {
        width: 100%;
        text-align: center;
        font-size: 15px;
        color: #aaa;
        margin-top: 10px;
        margin-bottom: 10px;
    }

    .app-content-body-right-xt::selection {
        background: #aaa;
        color: #fff
    }

    .copyright {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: fit-content;
        display: flex;
        justify-content: center;
        padding: 20px 0px;
        color: #555;
        user-select: none;
    }

    .app-content-body-left-top {
        display: flex;
        flex-direction: column;
        text-align: center;
        width: calc(100% - 8px * 2);
        height: calc(100% - 74px);
        overflow-y: scroll;
        padding: 0px 8px;
    }

    .app-content-body-left-top::-webkit-scrollbar {
        display: none;
    }

    .app-content-body-left-bottom {
        display: flex;
        flex-direction: column;
        width: 100%;
        height: fit-content;
    }

    .app-content-body-left-bottom-setname {
        text-align: center;
        padding: 10px 0px;
        border-top: solid 1px #bbb;
        font-size: 12px;
        cursor: pointer;
        user-select: none;
    }

    .app-content-body-left-bottom-clearmsg {
        text-align: center;
        padding: 10px 0px;
        border-top: solid 1px #bbb;
        font-size: 12px;
        cursor: pointer;
        user-select: none;
    }

    .app-content-input-icon {
        width: 20px;
        height: 20px;
        cursor: pointer;
        margin: 0px 2.5px;
    }

    .app-content-input-icon svg {
        width: 100%;
        height: 100%;
        color: #aaa;
    }

    .app-content-input-icon svg:hover {
        color: #0af;
    }

    .app-content-input-icongroup {
        display: flex;
        flex-direction: column;
        position: fixed;
        top: 0;
        left: 0;
        background: #fff;
        width: 350px;
        height: 190px;
        z-index: 99999999999999999999999;
        box-shadow: 0 0 5px #aaa;
    }

    .app-content-input-icongroup-top {
        width: 100%;
        height: calc(100% - 31px);
        display: flex;
        flex-direction: column;
    }

    .app-content-input-icongroup-bottom {
        display: flex;
        flex-direction: row;
        width: 100%;
        height: 31px;
        overflow: auto;
    }

    .app-content-input-icongroup-bottom::-webkit-scrollbar {
        display: none;
    }

    .app-content-input-icongroup-bottom div {
        padding: 5px 8px;
        cursor: pointer;
    }

    .app-content-input-icongroup-top-provider {
        text-align: center;
        padding: 5px 0px;
    }

    .app-content-input-icongroup-top-selecter {
        width: 100%;
        height: calc(100% - 31px);
        overflow: auto;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
    }

    .app-content-input-icongroup-top-selecter img {
        width: 25px;
        height: 25px;
        padding: 2.5px;
        cursor: pointer;
    }

    .app-content-input-icongroup-top-selecter img:hover {
        background-color: #eee;
    }

    .app-content-body-right-div .app-content-body-right-div-bottom img {
        width: 25px;
        height: 25px;
        cursor: text;
    }

    .app-content-body-right-div.right .app-content-body-right-div-bottom img::selection {
        background: #fff;
        color: #38a3ff
    }

    .app-content-body-right-div::selection {
        background: #38a3ff;
        color: #fff;
    }

    img.app-content-body-right-div-bottomimg {
        width: 40%;
        cursor: zoom-in;
    }

    @media (max-width: 700px) {
        .app-content {
            background: #fff;
            border-radius: 0px;
            min-width: 100%;
            max-width: 100%;
            max-height: 100%;
            min-height: 100%;
            box-shadow: none;
            width: 100%;
            height: 100%;
        }

        .app-content-title {
            border-radius: 0px;
        }

        .copyright {
            bottom: 50px;
            font-size: 12px;
        }
    }
</style>
<div id="app">
    <div class="app-content">
        <div class="app-content-title">小宏の聊天室（<r>0</r> / 20）</div>
        <div class="app-content-body">
            <div class="app-content-body-left">
                <div class="app-content-body-left-top"></div>
                <div class="app-content-body-left-bottom">
                    <div class="app-content-body-left-bottom-setname">更改名字</div>
                    <div class="app-content-body-left-bottom-clearmsg">清空聊天记录</div>
                </div>
            </div>
            <div class="app-content-body-right"></div>
        </div>
        <div class="app-content-input">
            <div class="app-content-input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"
                    version="1.1" width="100" height="100" viewBox="0 0 100 100">
                    <g style="mix-blend-mode:passthrough">
                        <g style="mix-blend-mode:passthrough">
                            <ellipse cx="50" cy="50" rx="46" ry="46" fill-opacity="0" stroke-opacity="1"
                                stroke="currentColor" fill="none" stroke-width="8" />
                        </g>
                        <g style="mix-blend-mode:passthrough">
                            <ellipse cx="33.5" cy="36.5" rx="7.5" ry="7.5" fill="currentColor" fill-opacity="1" />
                        </g>
                        <g style="mix-blend-mode:passthrough">
                            <ellipse cx="67.5" cy="36.5" rx="7.5" ry="7.5" fill="currentColor" fill-opacity="1" />
                        </g>
                        <g style="mix-blend-mode:passthrough">
                            <path
                                d="M74.7312,50.34375330301Q74.6498,50.894121,74.5441,51.44032Q74.4383,51.98653,74.3083,52.52748Q74.17840000000001,53.06844,74.0245,53.60308Q73.8706,54.13772,73.693,54.66498Q73.5155,55.19225,73.3147,55.71109Q73.1139,56.22994,72.8902,56.73934Q72.6665,57.24873,72.4204,57.74768Q72.1742,58.24662,71.90610000000001,58.734120000000004Q71.63810000000001,59.22162,71.3485,59.696709999999996Q71.059,60.1718,70.7487,60.63355Q70.4383,61.09525,70.1077,61.54275Q69.7772,61.99025,69.42699999999999,62.42255Q69.07679999999999,62.85485,68.70779999999999,63.27125Q68.3387,63.68755,67.95150000000001,64.08705Q67.5643,64.48655,67.1597,64.86834999999999Q66.7551,65.25025,66.3339,65.61375Q65.9127,65.97725,65.47579999999999,66.32165Q65.0389,66.66605,64.587,66.99065Q64.1352,67.31524999999999,63.6694,67.61945Q63.2036,67.92365,62.7247,68.20685Q62.2458,68.49005,61.7548,68.75165Q61.2637,69.01325,60.7616,69.25265Q60.2594,69.49215,59.7471,69.70905Q59.2348,69.92605,58.7133,70.11995Q58.1918,70.31385,57.6623,70.48435Q57.1327,70.65485,56.5961,70.80165Q56.0594,70.94845000000001,55.5168,71.07124999999999Q54.974199999999996,71.19395,54.4266,71.29245Q53.879000000000005,71.39095,53.327600000000004,71.46505Q52.7762,71.53915,52.2221,71.58855Q51.6679,71.63804999999999,51.1121,71.66275Q50.5563,71.68755,50,71.68755Q49.4436,71.68755,48.8879,71.66275Q48.3321,71.63804999999999,47.7779,71.58855Q47.2238,71.53915,46.672399999999996,71.46505Q46.120999999999995,71.39095,45.5734,71.29245Q45.025800000000004,71.19395,44.4832,71.07124999999999Q43.9406,70.94845000000001,43.4039,70.80165Q42.8673,70.65485,42.3377,70.48435Q41.8082,70.31385,41.286699999999996,70.11995Q40.7652,69.92605,40.2529,69.70905Q39.7406,69.49215,39.2384,69.25265Q38.7362,69.01325,38.2452,68.75165Q37.7542,68.49005,37.2753,68.20685Q36.7964,67.92365,36.330600000000004,67.61945Q35.8648,67.31524999999999,35.413,66.99065Q34.96114,66.66605,34.5242,66.32165Q34.087270000000004,65.97725,33.66608,65.61375Q33.2449,65.25025,32.8403,64.86834999999999Q32.4357,64.48655,32.04849,64.08705Q31.661279999999998,63.68755,31.29223,63.27125Q30.923180000000002,62.85485,30.57301,62.42255Q30.222839999999998,61.99025,29.89225,61.54275Q29.56167,61.09525,29.25131,60.63355Q28.94096,60.17179,28.65145,59.6967Q28.36194,59.22161,28.09386,58.73411Q27.82577,58.246610000000004,27.57964,57.74767Q27.33351,57.24873,27.10981,56.73933Q26.88612,56.22993,26.68531,55.71109Q26.4845,55.19224,26.30697,54.66498Q26.12944,54.13772,25.975537,53.60308Q25.821638,53.06844,25.691675,52.52748Q25.561713,51.98652,25.455943,51.44032Q25.350174,50.894116,25.268808,50.34374809265Q25.000000000000004,52.16199,25,54Q25,54.61371,25.0301136,55.22669Q25.0602272,55.83966,25.120382,56.45042Q25.180536,57.06118,25.270587,57.668260000000004Q25.360638,58.27533,25.480368,58.877250000000004Q25.600098,59.47918,25.749219,60.0745Q25.898339,60.66985,26.07649,61.257149999999996Q26.25464,61.84445,26.4614,62.42225Q26.66815,63.00005,26.903010000000002,63.56705Q27.13787,64.13405,27.40027,64.68885Q27.66266,65.24365,27.95197,65.78495Q28.24127,66.32615,28.55678,66.85255000000001Q28.8723,67.37895,29.21326,67.88925Q29.55422,68.39955,29.91981,68.89245Q30.2854,69.38544999999999,30.67474,69.85985Q31.06408,70.33425,31.476219999999998,70.78895Q31.888370000000002,71.24375,32.32233,71.67765Q32.75629,72.11165,33.21103,72.52375Q33.66576,72.93594999999999,34.14017,73.32525Q34.614580000000004,73.71455,35.1075,74.08015Q35.6005,74.44575,36.1107,74.78675Q36.621,75.12765,37.1474,75.44325Q37.6738,75.75874999999999,38.2151,76.04805Q38.756299999999996,76.33735,39.311099999999996,76.59975Q39.865899999999996,76.86215,40.432900000000004,77.09694999999999Q40.9999,77.33185,41.5777,77.53855Q42.1556,77.74535,42.7429,77.92355Q43.330200000000005,78.10165,43.9255,78.25075Q44.5208,78.39985,45.122699999999995,78.51965Q45.7247,78.63935000000001,46.3317,78.72945Q46.9388,78.81945,47.5496,78.87965Q48.1603,78.93975,48.7733,78.96985000000001Q49.3863,78.99995,50,78.99995Q50.6137,78.99995,51.2267,78.96985000000001Q51.8397,78.93975,52.4504,78.87965Q53.0612,78.81945,53.6683,78.72945Q54.2753,78.63935000000001,54.877300000000005,78.51965Q55.4792,78.39985,56.0745,78.25075Q56.669799999999995,78.10165,57.2571,77.92355Q57.8444,77.74535,58.4222,77.53855Q59.0001,77.33185,59.5671,77.09694999999999Q60.1341,76.86215,60.6889,76.59975Q61.2437,76.33735,61.7849,76.04805Q62.3262,75.75874999999999,62.8526,75.44325Q63.379,75.12765,63.8892,74.78675Q64.3995,74.44575,64.8925,74.08015Q65.3854,73.71455,65.8598,73.32525Q66.33420000000001,72.93594999999999,66.789,72.52375Q67.24369999999999,72.11165,67.6777,71.67765Q68.11160000000001,71.24375,68.5238,70.78895Q68.9359,70.33425,69.3253,69.85985Q69.71459999999999,69.38544999999999,70.08019999999999,68.89245Q70.44579999999999,68.39955,70.7867,67.88925Q71.1277,67.37895,71.44319999999999,66.85255000000001Q71.7587,66.32615,72.048,65.78495Q72.3373,65.24365,72.5997,64.68885Q72.8621,64.13405,73.09700000000001,63.56705Q73.3318,63.00005,73.5386,62.42225Q73.74539999999999,61.84445,73.92349999999999,61.257149999999996Q74.1017,60.66985,74.2508,60.0745Q74.3999,59.47918,74.5196,58.877250000000004Q74.6394,58.27533,74.7294,57.668260000000004Q74.8195,57.06118,74.87960000000001,56.45042Q74.93979999999999,55.83966,74.9699,55.22669Q75,54.61371,75,54Q75,52.16199,74.7312,50.34375330301Z"
                                fill-rule="evenodd" fill="currentColor" fill-opacity="1" />
                        </g>
                    </g>
                </svg>
            </div>
            <div class="app-content-input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"
                    version="1.1" width="100" height="100" viewBox="0 0 100 113">
                    <g style="mix-blend-mode:passthrough">
                        <g style="mix-blend-mode:passthrough">
                            <rect x="4" y="4" width="92" height="92" rx="11" fill-opacity="0" stroke-opacity="1"
                                stroke="currentColor" fill="none" stroke-width="8" />
                        </g>
                        <g style="mix-blend-mode:passthrough">
                            <ellipse cx="72.5" cy="28.5" rx="7.5" ry="7.5" fill="currentColor" fill-opacity="1" />
                        </g>
                        <g style="mix-blend-mode:passthrough">
                            <path
                                d="M66.6531,90.0506Q66.6837,90.1074,66.7106,90.1661Q66.7376,90.2248,66.7607,90.2851Q66.7837,90.3454,66.8029,90.407Q66.822,90.4687,66.8371,90.5315Q66.8523,90.5942,66.8633,90.6579Q66.8744,90.72149999999999,66.8813,90.78569999999999Q66.8882,90.84989999999999,66.891,90.9144Q66.8937,90.97890000000001,66.8923,91.04339999999999Q66.8909,91.108,66.8854,91.1723Q66.8798,91.23660000000001,66.8701,91.3005Q66.8604,91.3643,66.8466,91.4274Q66.8328,91.4905,66.815,91.55250000000001Q66.7971,91.6146,66.7753,91.6753Q66.7535,91.7361,66.7279,91.7954Q66.7022,91.8546,66.6727,91.91210000000001Q66.6433,91.9695,66.6102,92.025Q66.5771,92.0804,66.5405,92.1336Q66.5039,92.1868,66.464,92.2375Q66.424,92.2882,66.3809,92.3363Q66.3377,92.3843,66.2916,92.42949999999999Q66.2454,92.47460000000001,66.1965,92.5167Q66.1475,92.55879999999999,66.0959,92.5977Q66.0443,92.6365,65.9904,92.6719Q65.93639999999999,92.7074,65.8802,92.7392Q65.8241,92.77109999999999,65.76599999999999,92.7993Q65.7079,92.8275,65.6481,92.8519Q65.5883,92.8763,65.52709999999999,92.8968Q65.4659,92.91720000000001,65.4034,92.9337Q65.34100000000001,92.9502,65.27770000000001,92.96260000000001Q65.21430000000001,92.975,65.1503,92.9834Q65.08619999999999,92.99170000000001,65.0218,92.9958Q64.9574,93,64.8928,93L10.1072,93Q10.04263,93,9.978200000000001,92.9958Q9.91377,92.99170000000001,9.84974,92.9834Q9.78571,92.975,9.722349999999999,92.96260000000001Q9.65899,92.9502,9.59656,92.9337Q9.534130000000001,92.91720000000001,9.4729,92.8968Q9.411660000000001,92.8763,9.351880000000001,92.8519Q9.29209,92.8275,9.234,92.7993Q9.17592,92.77109999999999,9.119769999999999,92.7392Q9.06362,92.7074,9.009640000000001,92.6719Q8.95567,92.6365,8.90409,92.5977Q8.852509999999999,92.55879999999999,8.80354,92.5167Q8.75458,92.47460000000001,8.70843,92.42949999999999Q8.662279999999999,92.3843,8.61914,92.3363Q8.576,92.2882,8.53605,92.2375Q8.496089999999999,92.1868,8.4595,92.1336Q8.4229,92.0804,8.38981,92.025Q8.35672,91.9695,8.32728,91.91210000000001Q8.297830000000001,91.8546,8.27215,91.7954Q8.24648,91.7361,8.22467,91.6753Q8.20287,91.6146,8.185030000000001,91.55250000000001Q8.167200000000001,91.4905,8.153400000000001,91.4274Q8.1396,91.3643,8.1299,91.3005Q8.1202,91.23660000000001,8.11464,91.1723Q8.109079999999999,91.108,8.107669999999999,91.04339999999999Q8.10627,90.97890000000001,8.10904,90.9144Q8.111799999999999,90.84989999999999,8.11872,90.78569999999999Q8.12564,90.72149999999999,8.13669,90.6579Q8.14773,90.5942,8.16286,90.5315Q8.17798,90.4687,8.19713,90.407Q8.21627,90.3454,8.23935,90.2851Q8.26243,90.2248,8.289349999999999,90.1661Q8.31627,90.1074,8.34693,90.0506L35.7397,39.2636Q35.7717,39.20438,35.8075,39.14744Q35.8434,39.0905,35.883,39.0361Q35.9226,38.981700000000004,35.9657,38.93008Q36.0089,38.87846,36.0554,38.82986Q36.1019,38.78126,36.1516,38.7359Q36.2013,38.69054,36.254,38.64862Q36.3066,38.606700000000004,36.3619,38.56841Q36.4173,38.53012,36.475,38.49564Q36.5328,38.46116,36.5928,38.43064Q36.6527,38.40012,36.7146,38.373689999999996Q36.7765,38.34727,36.84,38.32507Q36.9035,38.30286,36.9684,38.28498Q37.0333,38.2671,37.0992,38.25361Q37.1651,38.24013,37.2318,38.2311Q37.2985,38.22208,37.3656,38.21756Q37.4327,38.21303,37.5,38.21303Q37.5673,38.21303,37.6344,38.21756Q37.7015,38.22208,37.7682,38.2311Q37.8349,38.24013,37.9008,38.25361Q37.9667,38.2671,38.0316,38.28498Q38.0965,38.30286,38.16,38.32507Q38.2235,38.34727,38.2854,38.373689999999996Q38.3473,38.40012,38.4072,38.43064Q38.4672,38.46116,38.525,38.49564Q38.5828,38.53012,38.6381,38.56841Q38.6934,38.606700000000004,38.746,38.64862Q38.7987,38.69054,38.8484,38.7359Q38.8981,38.78126,38.9446,38.82986Q38.9911,38.87846,39.0343,38.93008Q39.0774,38.981700000000004,39.117,39.0361Q39.1566,39.0905,39.1925,39.14744Q39.2283,39.20438,39.2603,39.2636L66.6531,90.0506Z"
                                fill="currentColor" fill-opacity="1" />
                        </g>
                        <g style="mix-blend-mode:passthrough">
                            <path
                                d="M93.3817,93.2062Q93.4162,93.2627,93.447,93.3214Q93.4778,93.3801,93.5046,93.44069999999999Q93.5314,93.5013,93.5541,93.56360000000001Q93.5769,93.6258,93.5955,93.6894Q93.614,93.7531,93.6284,93.8178Q93.6427,93.8825,93.6527,93.94800000000001Q93.6627,94.0135,93.6683,94.0795Q93.674,94.1455,93.6753,94.2118Q93.6765,94.2781,93.6734,94.3443Q93.6703,94.4105,93.6628,94.47630000000001Q93.6553,94.5421,93.6434,94.60730000000001Q93.6316,94.6725,93.6155,94.7368Q93.5993,94.80109999999999,93.579,94.8642Q93.5586,94.9272,93.5342,94.9888Q93.5097,95.0504,93.4812,95.11019999999999Q93.4527,95.17009999999999,93.4203,95.2279Q93.3879,95.28569999999999,93.3517,95.3412Q93.3155,95.39670000000001,93.2758,95.44980000000001Q93.236,95.50280000000001,93.1929,95.5531Q93.1497,95.60329999999999,93.1033,95.6506Q93.0569,95.6979,93.0074,95.7421Q92.958,95.78620000000001,92.9057,95.827Q92.8535,95.8677,92.7986,95.9049Q92.7438,95.94210000000001,92.6866,95.9756Q92.62950000000001,96.00909999999999,92.5702,96.03880000000001Q92.51089999999999,96.0684,92.44980000000001,96.0941Q92.3887,96.1197,92.326,96.1413Q92.26339999999999,96.1628,92.1994,96.1802Q92.13550000000001,96.19749999999999,92.07050000000001,96.2106Q92.0055,96.22370000000001,91.93979999999999,96.2325Q91.8741,96.24119999999999,91.80799999999999,96.2456Q91.7419,96.25,91.6756,96.25L37.32437,96.25Q37.2581,96.25,37.19197,96.2456Q37.12585,96.24119999999999,37.060159999999996,96.2325Q36.99447,96.22370000000001,36.9295,96.2106Q36.86454,96.19749999999999,36.80058,96.1802Q36.73662,96.1628,36.67396,96.1413Q36.61129,96.1197,36.55018,96.0941Q36.48908,96.0684,36.42981,96.03880000000001Q36.37054,96.00909999999999,36.31336,95.9756Q36.25618,95.94210000000001,36.20134,95.9049Q36.14651,95.8677,36.09425,95.827Q36.042,95.78620000000001,35.99256,95.7421Q35.94312,95.6979,35.89671,95.6506Q35.8503,95.60329999999999,35.80712,95.5531Q35.76395,95.50280000000001,35.72419,95.44980000000001Q35.68444,95.39670000000001,35.64828,95.3412Q35.61212,95.28569999999999,35.57972,95.2279Q35.54732,95.17009999999999,35.51882,95.11019999999999Q35.49031,95.0504,35.46583,94.9888Q35.44135,94.9272,35.421,94.8642Q35.40065,94.80109999999999,35.38452,94.7368Q35.36839,94.6726,35.35655,94.60730000000001Q35.34471,94.5421,35.33721,94.47630000000001Q35.32971,94.4105,35.32659,94.3443Q35.32346,94.2781,35.32473,94.2118Q35.326,94.1455,35.331649999999996,94.0795Q35.33729,94.0135,35.3473,93.94800000000001Q35.35731,93.8825,35.371629999999996,93.8178Q35.38595,93.7531,35.40453,93.6894Q35.4231,93.6258,35.44585,93.56360000000001Q35.46859,93.5013,35.495400000000004,93.44069999999999Q35.52222,93.3801,35.55299,93.3214Q35.58375,93.2627,35.61834,93.2062L62.794,48.78845Q62.8273,48.73396,62.8641,48.68171Q62.9008,48.62946,62.9408,48.57965Q62.9808,48.52985,63.0239,48.48271Q63.067,48.43556,63.1131,48.39126Q63.1591,48.34696,63.2078,48.30569Q63.2566,48.26442,63.3079,48.22635Q63.3592,48.18827,63.4128,48.15354Q63.4664,48.11882,63.5221,48.08759Q63.5779,48.05635,63.6355,48.02874Q63.6931,48.00113,63.7523,47.97725Q63.8116,47.95336,63.8722,47.93331Q63.9329,47.91326,63.9947,47.89712Q64.0565,47.88098,64.1192,47.86882Q64.1819,47.85665,64.2453,47.84852Q64.3086,47.84038,64.3724,47.83631Q64.43610000000001,47.83223,64.5,47.83223Q64.56389999999999,47.83223,64.6276,47.83631Q64.6914,47.84038,64.7547,47.84852Q64.8181,47.85665,64.8808,47.86882Q64.9435,47.88098,65.0053,47.89712Q65.06710000000001,47.91326,65.12780000000001,47.93331Q65.1884,47.95336,65.24770000000001,47.97724Q65.3069,48.00113,65.36449999999999,48.02874Q65.4221,48.05635,65.4779,48.08759Q65.5336,48.11882,65.5872,48.15354Q65.6408,48.18827,65.69210000000001,48.22635Q65.74340000000001,48.26442,65.79220000000001,48.30569Q65.8409,48.34696,65.8869,48.39126Q65.93299999999999,48.43556,65.9761,48.48271Q66.0192,48.52985,66.0592,48.57965Q66.0992,48.62946,66.13589999999999,48.68171Q66.17269999999999,48.73396,66.206,48.78845L93.3817,93.2062Z"
                                fill="currentColor" fill-opacity="1" />
                        </g>
                    </g>
                </svg>
            </div>
            <div class="app-content-input-icongroup" style="display: none;">
                <div class="app-content-input-icongroup-top"></div>
                <div class="app-content-input-icongroup-bottom"></div>
            </div>
            <input placeholder="说点啥好呢？">
            <button>发送！</button>
        </div>
    </div>
    <div class="copyright">Copyright (c) 2023 xiaohong2022</div>
</div>
<script>
    !function () {
        var $jscomp = $jscomp || {}; $jscomp.scope = {}; $jscomp.createTemplateTagFirstArg = function (b) { return b.raw = b }; $jscomp.createTemplateTagFirstArgWithRaw = function (b, c) { b.raw = c; return b }; $jscomp.arrayIteratorImpl = function (b) { var c = 0; return function () { return c < b.length ? { done: !1, value: b[c++] } : { done: !0 } } }; $jscomp.arrayIterator = function (b) { return { next: $jscomp.arrayIteratorImpl(b) } }; $jscomp.makeIterator = function (b) { var c = "undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator]; return c ? c.call(b) : $jscomp.arrayIterator(b) };
        !function (b, c) { "object" == typeof exports && "undefined" != typeof module ? module.exports = c() : "function" == typeof define && define.amd ? define(c) : (b = "undefined" != typeof globalThis ? globalThis : b || self).xhdialog = c() }(this, function () {
            var b = function (a, e) {
                var d = this, f = document.createElement("button"); f.className = "xhdialog-options-btn" + (a.class ? " " + ("string" == typeof a.class ? a.class : "object" == typeof a.class ? Object.values(a.class).join(" ") : "") : ""); f.addEventListener("click", a.onClick ? a.onClick : null); f.addEventListener("click",
                    function () { d.options.closeOnClick && d.$offsetDialog._root.close(d._selectValue) }); f.innerHTML = '<div class="xhdialog-options-btn-loading xhdialog-options-btn-loading-close"></div><span></span>'; this.$element = f; this.$offsetDialog = e; this.$element.querySelector("span").innerText = a.text; this._state = "enable"; this._loading = !1; this.options = { closeOnClick: !!a.closeOnClick }; this._selectValue = a.value
            }; b.prototype.startload = function () {
                this.$element.querySelector(".xhdialog-options-btn-loading").classList.remove("xhdialog-options-btn-loading-close");
                this._loading = !0; return this
            }; b.prototype.stopload = function () { this.$element.querySelector(".xhdialog-options-btn-loading").classList.add("xhdialog-options-btn-loading-close"); this._loading = !1; return this }; b.prototype.remove = function () { this.$element.remove() }; b.prototype.setText = function (a) { this.$element.querySelector("span").innerText = a; return this }; b.prototype.getText = function () { return this.$element.querySelector("span").innerHTML }; b.prototype.disabled = function (a) {
                this._state = (this.$element.disabled =
                    void 0 === a ? !0 : a) ? "disabled" : "enable"; return this
            }; b.prototype.enable = function (a) { a = void 0 === a ? !0 : a; this.$element.disabled = !a; this._state = a ? "enable" : "disabled"; return this }; var c = function (a) {
                var e = this, d = document.createElement("div"); d.className = "xhdialog" + (a.class ? " " + ("string" == typeof a.class ? a.class : "object" == typeof a.class ? Object.values(a.class).join(" ") : "") : ""); this.$element = d; var f = document.createElement("div"); f.className = "xhdialog-overlay"; this.$overlay = f; var g = a.title ? '<div class="xhdialog-title">' +
                    a.title + "</div>" : ""; g += '<div class="xhdialog-content">' + (a.content ? a.content : "") + "</div>"; d.innerHTML = g; if (a.buttons) { g = document.createElement("div"); g.className = "xhdialog-options"; for (var l = a.buttons.map(function (n) { return new b(n, d) }), m = $jscomp.makeIterator(l), h = m.next(); !h.done; h = m.next())h = h.value, g.appendChild(h.$element), h.$element._root = h; d.appendChild(g); this.buttons = { $card: g, $elements: l } } this._state = "close"; f.addEventListener("click", function () { e.options.overlayOnClose && e.close(e._overlayValue) });
                document.body.appendChild(d); this._select = null; this._overlayValue = a.overlayValue; d._root = this; this.options = { removeOnClose: !!a.removeOnClose, overlayOnClose: a.overlayOnClose || !0 }
            }; c.prototype.open = function () {
                var a = this; document.body.appendChild(this.$overlay); this.$element.classList.add("xhdialog-animation-open"); this.$overlay.classList.add("xhdialog-overlay-animation-open"); document.body.classList.add("xhdialog-body-lock"); setTimeout(function () {
                    a.$element.classList.add("xhdialog-open"); a.$overlay.classList.add("xhdialog-overlay-show");
                    a.$element.classList.remove("xhdialog-animation-open"); a.$overlay.classList.remove("xhdialog-overlay-animation-open")
                }, 10); this._state = "open"; return this
            }; c.prototype.close = function (a) {
                var e = this; this.$element.classList.add("xhdialog-animation-close"); this.$overlay.classList.add("xhdialog-overlay-animation-close"); 1 == document.querySelectorAll(".xhdialog").length && document.body.classList.remove("xhdialog-body-lock"); setTimeout(function () {
                    e.$element.classList.remove("xhdialog-open"); e.$overlay.classList.remove("xhdialog-overlay-show");
                    e.$element.classList.remove("xhdialog-animation-close"); e.$overlay.classList.remove("xhdialog-overlay-animation-close"); e.options.removeOnClose ? e.remove() : document.body.removeChild(e.$overlay)
                }, 300); this._select = a; this._state = "close"; return a
            }; c.prototype.remove = function () { this.$element.remove(); this.$overlay.remove() }; c.prototype.isOpen = function () { return "open" == this._state }; c.prototype.addElement = function (a) { this.$element.querySelector(".xhdialog-content").appendChild(a); return a }; var k = document.createElement("style");
            k.type = "text/css"; k.innerHTML = `.xhdialog{box-sizing:border-box;margin:0;padding:0;outline:0}body.xhdialog-body-lock{overflow:hidden}.xhdialog-overlay{position:fixed;top:0;left:0;z-index:50000;display:none;box-sizing:border-box;background:rgba(0,0,0,.4);opacity:0;-webkit-transition:.3s,width 0s,height 0s;transition:.3s,width 0s,height 0s}.xhdialog-overlay-show{display:block;width:100%;height:100%;opacity:1}.xhdialog-overlay-animation-open{display:block;opacity:0}.xhdialog-overlay-animation-close{opacity:0}
.xhdialog{position:fixed;top:0;right:0;bottom:0;left:0;z-index:999999999;display:none;overflow:hidden;margin:auto;padding:20px 30px 70px;max-width:70%;max-height:70%;min-width:300px;min-height:170px;-webkit-border-radius:10px;border-radius:10px;background:#fff;-webkit-box-shadow:0 11px 15px -7px rgb(0 0 0/20%),0 24px 38px 3px rgb(0 0 0/14%),0 9px 46px 8px rgb(0 0 0/12%);box-shadow:0 11px 15px -7px rgb(0 0 0/20%),0 24px 38px 3px rgb(0 0 0/14%),0 9px 46px 8px rgb(0 0 0/12%);-webkit-transition-duration:.3s;transition-duration:.3s;
-webkit-transform:scale(.7);transform:scale(.7)}.xhdialog.xhdialog-open{display:block;-webkit-transform:scale(1);transform:scale(1)}.xhdialog.xhdialog-animation-open{display:block;opacity:0}.xhdialog.xhdialog-animation-close{opacity:0;-webkit-transform:scale(.7);transform:scale(.7)}.xhdialog button.xhdialog-options-btn{margin-left:9px;padding:6px 13px;border:1px solid #aaa;border-radius:5px;background:0 0;color:#000;font-size:14px;cursor:pointer;-webkit-transition-duration:.3s;transition-duration:.3s;user-select:none!important;
-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important}.xhdialog button.xhdialog-options-btn:hover{background:rgba(0,0,0,.07)}.xhdialog button.xhdialog-options-btn:active{background:rgba(0,0,0,.2);-webkit-transform:scale(.9);transform:scale(.9)}.xhdialog button.xhdialog-options-btn.xhdialog-options-btn-confirm{border:1px solid var(--color-primary);background:var(--color-primary);color:var(--color-button-text)}.xhdialog button.xhdialog-options-btn.xhdialog-options-btn-confirm:hover{
border:1px solid var(--color-primary-hover);background:var(--color-primary-hover)}.xhdialog button.xhdialog-options-btn.xhdialog-options-btn-confirm:active{border:1px solid var(--color-primary-press);background:var(--color-primary-press)}.xhdialog button.xhdialog-options-btn[disabled]{opacity:.4;cursor:auto;-webkit-transform:scale(1);transform:scale(1)}.xhdialog .xhdialog-options{position:fixed;right:30px;bottom:20px}.xhdialog .xhdialog-title{margin-bottom:10px;color:var(--title-color);font-size:27px;user-select:none;
-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.xhdialog .xhdialog-content{color:var(--content-color);white-space:pre-wrap;word-wrap:break-word;font-size:14px}.xhdialog-prompt-input{margin-top:5px;padding:5px 10px;width:100%;outline:0;border:1px solid #aaa;border-radius:5px;background:0 0;color:#000;font-size:14px;-webkit-transition-duration:.3s;transition-duration:.3s}.xhdialog-prompt-input:focus-visible{border:1px solid #0af}.xhdialog .xhdialog-content{display:flex;flex-direction:column;align-items:flex-start}
.xhdialog-alert,.xhdialog-confirm,.xhdialog-prompt{max-width:40%;max-height:30%}.xhdialog{--color-primary:#0af;--color-primary-hover:rgba(0,170,255,0.87);--color-primary-press:rgba(0,170,255,0.6);--color-button-text:#fff;--title-color:#000;--content-color:rgba(0,0,0,0.73)}`
            document.head.appendChild(k); return {
                alert: async function (a) { a = new c({ title: "系统", content: a, buttons: [{ text: "确认", value: void 0, closeOnClick: !0, class: "xhdialog-options-btn-confirm" }], class: ["xhdialog-alert"], removeOnClose: !0, overlayValue: void 0 }); await new Promise(requestAnimationFrame); a.open(); for (await new Promise(requestAnimationFrame); ;) { if (!a.isOpen()) { await new Promise(requestAnimationFrame); break } await new Promise(requestAnimationFrame) } }, confirm: async function (a) {
                    a = new c({
                        title: "系统", content: a, buttons: [{
                            text: "确认", value: !0,
                            closeOnClick: !0, class: "xhdialog-options-btn-confirm"
                        }, { text: "取消", value: !1, closeOnClick: !0 }], class: ["xhdialog-confirm"], removeOnClose: !0, overlayValue: !1
                    }); await new Promise(requestAnimationFrame); a.open(); for (await new Promise(requestAnimationFrame); ;) { if (!a.isOpen()) return await new Promise(requestAnimationFrame), a._select; await new Promise(requestAnimationFrame) }
                }, prompt: async function (a, e) {
                    a = new c({
                        title: "系统", content: a, buttons: [{ text: "确认", value: !0, closeOnClick: !0, class: "xhdialog-options-btn-confirm" }, {
                            text: "取消",
                            value: !1, closeOnClick: !0
                        }], class: ["xhdialog-prompt"], removeOnClose: !0, overlayValue: !1
                    }); var d = document.createElement("input"); d.className = "xhdialog-prompt-input"; d.value = e || ""; a.$element.querySelector(".xhdialog-content").appendChild(d); await new Promise(requestAnimationFrame); a.open(); for (await new Promise(requestAnimationFrame); ;) { if (!a.isOpen()) return await new Promise(requestAnimationFrame), a._select ? d.value : null; await new Promise(requestAnimationFrame) }
                }, Dialog: c
            }
        });
    }();
    !function () {
        /**@return {IDBFactory}*/
        function getIndexDB() {
            const i =
                window.indexedDB ||
                window.mozIndexedDB ||
                window.webkitIndexedDB ||
                window.msIndexedDB ||
                window.shimIndexedDB;
            if (i) {
                return i
            }
            return null
        }
        var indexeddb = getIndexDB();
        var dbsql = indexeddb.open("xhchat_db", 1);
        dbsql.onupgradeneeded = () => {
            const db = dbsql.result;
            const store = db.createObjectStore("messages", {
                keyPath: "id",
                autoIncrement: true,
            });
        };
        dbsql.onsuccess = () => {
            console.log("本地消息数据库连接已建立");
        };
        function cleardbmsg() {
            const db = dbsql.result
            const tx = db.transaction("messages", "readwrite")
            const todosStore = tx.objectStore("messages")
            todosStore.clear();
        };
        function _0x28b9c1(a) { var f = "", c = 0; for (a = a.replace(/[^A-Za-z0-9\+\/=]/g, ""); c < a.length;) { var g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(c++)); var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(c++)); var b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(c++)); var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(c++)); g = g << 2 | d >> 4; d = (d & 15) << 4 | b >> 2; var k = (b & 3) << 6 | e; f += String.fromCharCode(g); 64 != b && (f += String.fromCharCode(d)); 64 != e && (f += String.fromCharCode(k)) } a = f; f = ""; for (b = 0; b < a.length;)e = a.charCodeAt(b), 128 > e ? (f += String.fromCharCode(e), b++) : 191 < e && 224 > e ? (c = a.charCodeAt(b + 1), f += String.fromCharCode((e & 31) << 6 | c & 63), b += 2) : (c = a.charCodeAt(b + 1), g = a.charCodeAt(b + 2), f += String.fromCharCode((e & 15) << 12 | (c & 63) << 6 | g & 63), b += 3); return f }
        var _0x5d01 = _0x28b9c1("MTI5OTk0OU9UTldVUCA0Nzc5MDhyVmpycHMgODl0QXhYZU0gMFBDOXZUTk5XMiAxMDk2NjE3c21XWEZYIDV2TE1rUFIgaW5jbHVkZXMgMTI0NDJLblBZbHogZ2V0SXRlbSAxMUtKeVZQaSAyMzU2NjF5Y1haQ1UgMzU2NzFsV1ZvbGUgc3czQUJrTkM1Qm40YWgzb25HNmkgODk2MTk3akVCdWxX").split(" ");
        (function (_0x23b3c1, _0x28d863) { function _0x434218(_0x5b21f1, _0x10911f) { return _0x2f09(_0x10911f - 0x226, _0x5b21f1); } while (!![]) { try { var _0x4abb34 = -parseInt(_0x434218(0x29c, 0x29c)) + parseInt(_0x434218(0x299, 0x29b)) + parseInt(_0x434218(0x29b, 0x2a0)) + parseInt(_0x434218(0x290, 0x295)) * parseInt(_0x434218(0x29b, 0x29e)) + -parseInt(_0x434218(0x29b, 0x299)) * parseInt(_0x434218(0x295, 0x297)) + parseInt(_0x434218(0x2a4, 0x29d)) + parseInt(_0x434218(0x294, 0x298)) * -parseInt(_0x434218(0x2a7, 0x2a1)); if (_0x4abb34 === _0x28d863) { break; } else { _0x23b3c1['push'](_0x23b3c1['shift']()); } } catch (_0x1368be) { _0x23b3c1['push'](_0x23b3c1['shift']()); } } }(_0x5d01, 0xacb61)); function _0x5fdd4e(_0x5e6980, _0x2e8cdd) { return _0x2f09(_0x5e6980 - 0x150, _0x2e8cdd); } function _0x2f09(_0x1468b7, _0x53f62a) { _0x2f09 = function (_0x5d01f9, _0x2f09de) { _0x5d01f9 = _0x5d01f9 - 0x6e; var _0x14a610 = _0x5d01[_0x5d01f9]; return _0x14a610; }; return _0x2f09(_0x1468b7, _0x53f62a); }
        var dirty = _0x28b9c1("6IiU5ZCuIOaKl+iuriDmiZPmrbsg5Y+Y5oCBIOm6u+eXuSDmjqXlkLsg5rWB6KGAIOS+rui+sSDljrvmrbsg6IiU552AIOaMieaRqSDni5flj6sg6KOk6KGpIOWtrOenjSDliLrmv4Ag6Z2S5aSp55m95pelIOaLlOWHuuadpSDlkbvlkJ8g5bCP5L6/IOeJm+avlCDml6DogLsg5oOz5q27IOWHuuihgCDoo7jpnLIg5om+5q27IOeMjuaeqiDni4LlkKAg5Y+M562SIOWPkeaEoyDmrbvliJEg5ZKM54uXIOiAgeavjeeMqiDlsI/lp5Ag6IiU5ZC7IOW/q+aEnyDniLHmipog5oOF5L6jIOiDveWEvyDljb/ljb/miJHmiJEg5o+S6L+bIOa1keWchiDnmoTpgLwg5aiH5ZaYIOaVmeW+kiDljZXouqsg57qm5LyaIOeOm+WPvCDnpZblrpcg5YW05aWL5YmCIOa3q+WogSDkuqTphY0g5Y+R5oOFIOeqneWbiuW6nyDmjonkvaAg5Yu+5pCtIOilv+iXjyDkuLvmnYMg5oqT6IO4IOWVpuaymSDlqJjnmoQg5oqa5pG4IOWkqeiRrCDlpKvlkJsg5aSr5aa7IOe+nui+sSDljprohLjnmq4g6LCp6aqCIOWCu+eTnCDlhb3mgKcg56S65aiBIOihqOeZvSDoiJTliqjnnYAg55Wc55SfIOmTheW8uSDmgYvniLEg5bCE5q27IOiwg+aVmSDmmK/ni5cg5YeM6L6xIOi9ruaJiyDmu6Hni5cg5Y675LiWIOavkuibh+mSuyDlhajlrrYg56m06YeMIOW3tOWYjiDkuI3nqb8g5byT5bypIOWFvOiBjCDkuIrku5Yg5a+56LGhIOavkuaerSDpurvphonmnqog5rGh55qEIOe7j+aWhyDms5Xova4g5ZW15ZW1IOWkluWtmSDol4/msJEg5Y2R6YSZIOaKpOazlSDnuqDnurcg5rGJ5Lq6IOWbveawkeWFmiDmrbvkvaAg5Lqy5LiA5Y+jIOWNh+WkqSDmnInnl4Ug5pS+5bGBIOWwvOeOmyDnlq/ni5cg5a+G5a6XIOaequaJiyDoh6rmnYAg6ZOD5aOwIOegjeatuyDnmb3lq6kg6aqaIOWmiOeahCBtZCBNRCBTQiBzYiBTYiBzQiDlgrvpgLwg5YK75a2QIOWCu+ibiyDohJHmrosg5Y2n5qe9IOaIkeaTjSDmiJHojYkg54mb6YC8IHdjIG1EIE1kIOeMm+WQuCDlk6Xlk6Ug5by65pq0IOiEseWFiSDkurrmuKMg5pel5L2gIOazleS8miDlhL/lrZAg5oCn54ixIOi1sOeLlyDniZvnsqog57Kq5L6/IOWxjiDmnqrmr5kg57uR5p62IOa0u+WSjCDmnYLnp40g5LqG5LuWIOWltua7tCDnrKjom4sg5rOV5q2jIOWPl+WtlSDmg4Xkurog6YSZ6KeGIOa1geawkyDnmb3nl7Qg5LiR5YWr5oCqIOa7muW8gCDlvLHmmbog5a2k5YS/IOaXoOacn+W+kuWIkSDku5blpoggVE0gdG0gVG0gdE0g6LiP6amsIOKEoiDmrLLngasg57qi6Imy5oGQ5oCWIOW5suatuyDohZDotKUg5omT6ZKIIOmprOWPvCDoibLoibIg5oiQ5Lq656S+IOWQjOWxhSDnpr3lhb0g5bm85aWz").split(" ")
        var emoji = {
            "QQ小黄脸": {
                provider: "koishi",
                provider_url: "https://koishi.js.org",
                id: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 41, 42, 43, 46, 49, 50, 53, 54, 55, 56, 57, 59, 60, 61, 63, 64, 66, 67, 69, 74, 75, 76, 77, 78, 79, 81, 85, 86, 89, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323],
                url: `https://koishi.js.org/QFace/static/s[id].png`
            },
            "B站小黄脸": {
                provider: "B站",
                provider_url: "https://bilibili.com",
                id: ["9cb6ee2c42986c56ec361d21d5ccbd096aefab0a", "bf7e00ecab02171f8461ee8cf439c73db9797748", "685612eadc33f6bc233776c6241813385844f182", "3ad2f66b151496d2a5fb0a8ea75f32265d778dd3", "3087d273a78ccaff4bb1e9972e2ba2a7583c9f11", "b4cb77159d58614a9b787b91b1cd22a81f383535", "4683fd9ffc925fa6423110979d7dcac5eda297f4", "63c9d1a31c0da745b61cdb35e0ecb28635675db2", "35d62c496d1e4ea9e091243fa812866f5fecc101", "4191ce3c44c2b3df8fd97c33f85d3ab15f4f3c84", "d15121545a99ac46774f1f4465b895fe2d1411c3", "b5a5898491944a4268360f2e7a84623149672eb6", "431432c43da3ee5aab5b0e4f8931953e649e9975", "4384050fbab0586259acdd170b510fe262f08a17", "8290b7308325e3179d2154327c85640af1528617", "3d1dbe52ea16e12ff7b1c371196f728a4097fb33", "28a91da1685d90124cfeead74622e1ebb417c0eb", "c3043ba94babf824dea03ce500d0e73763bf4f40", "ba0937ef6f3ccca85e2e0047e6263f3b4da37201", "0922c375da40e6b69002bd89b858572f424dcfca", "1597302b98827463f5b75c7cac1f29ea6ce572c4", "abd7404537d8162720ccbba9e0a8cdf75547e07a", "362bded07ea5434886271d23fa25f5d85d8af06c", "8a10a4d73a89f665feff3d46ca56e83dc68f9eb8", "92b1c8cbceea3ae0e8e32253ea414783e8ba7806", "de4c0783aaa60ec03de0a2b90858927bfad7154b", "9d2ec4e1fbd6cb1b4d12d2bbbdd124ccb83ddfda", "2caafee2e5db4db72104650d87810cc2c123fc86", "b7840db4b1f9f4726b7cb23c0972720c1698d661", "485a7e0c01c2d70707daae53bee4a9e2e31ef1ed", "bb84906573472f0a84cebad1e9000eb6164a6f5a", "81edf17314cea3b48674312b4364df44d5c01f17", "6c49d226e76c42cd8002abc47b3112bc5a92f66a", "f8e9a59cad52ae1a19622805696a35f0a0d853f3", "6921bb43f0c634870b92f4a8ad41dada94a5296d", "ba8d5f8e7d136d59aab52c40fd3b8a43419eb03c", "12e41d357a9807cc80ef1e1ed258127fcc791424", "33ad6000d9f9f168a0976bc60937786f239e5d8c", "cb89184c97e3f6d50acfd7961c313ce50360d70f", "ca94ad1c7e6dac895eb5b33b7836b634c614d1c0", "0afecaf3a3499479af946f29749e1a6c285b6f65", "44667b7d9349957e903b1b62cb91fb9b13720f04", "1a67265993913f4c35d15a6028a30724e83e7d35", "895d1fc616b4b6c830cf96012880818c0e1de00d", "cb321684ed5ce6eacdc2699092ab8fe7679e4fda", "43d3db7d97343c01b47e22cfabeca84b4251f35a", "d2f26cbdd6c96960320af03f5514c5b524990840", "010540d0f61220a0db4922e4a679a1d8eca94f4e", "905fd9a99ec316e353b9bd4ecd49a5f0a301eabf", "cb0ebbd0668640f07ebfc0e03f7a18a8cd00b4ed", "4e58a2a6f5f1580ac33df2d2cf7ecad7d9ab3635", "0f25ce04ae1d7baf98650986454c634f6612cb76", "9c10c5ebc7bef27ec641b8a1877674e0c65fea5d", "06946bfe71ac48a6078a0b662181bb5cad09decc", "c5c6d6982e1e53e478daae554b239f2b227b172b", "e64af664d20716e090f10411496998095f62f844", "cfa9b7e89e4bfe04bbcd34ccb1b0df37f4fa905c", "fc510306bae26c9aec7e287cdf201ded27b065b9", "eba54707c7168925b18f6f8b1f48d532fe08c2b1", "888d877729cbec444ddbd1cf4c9af155a7a06086", "bb2060c15dba7d3fd731c35079d1617f1afe3376", "3a03aebfc06339d86a68c2d893303b46f4b85771", "a651db36701610aa70a781fa98c07c9789b11543", "531863568e5668c5ac181d395508a0eeb1f0cda4", "4c87afff88c22439c45b79e9d2035d21d5622eba", "3195714219c4b582a4fb02033dd1519913d0246d", "d530fcaa5100ba12a17a79b55bad342d530c54e3", "d5a491990be551ce69f9660da948050df4eab331", "93609633a9d194cf336687eb19c01dca95bde719", "643d6c19c8164ffd89e3e9cdf093cf5d773d979c", "5de5373d354c373cf1617b6b836f3a8d53c5a655", "c7860392815d345fa69c4f00ef18d67dccfbd574", "a41813c4edf8782047e172c884ebd4507ce5e449", "dce6fc7d6dfeafff01241924db60f8251cca5307", "8da12d5f55a2c7e9778dcc05b40571979fe208e6", "c4e9f0e3f35961d5037cb071b16ddba2170b262c", "ed04066ea7124106d17ffcaf75600700e5442f5c", "b49fa9f4b1e7c3477918153b82c60b114d87347c", "c7aaeacb21e107292d3bb053e5abde4a4459ed30", "89516218158dbea18ab78e8873060bf95d33bbbe", "1b5c53cf14336903e1d2ae3527ca380a1256a077", "fafe8d3de0dc139ebe995491d2dac458a865fb30", "802429a301ac5b35a0480d9526a070ce67cd8097", "3c210366a5585706c09d4c686a9d942b39feeb50", "41780a4254750cdaaccb20735730a36044e98ef3", "f2b3aee7e521de7799d4e3aa379b01be032698ac"],
                url: `https://i0.hdslb.com/bfs/emote/[id].png@56w_56h.webp`
            },
            "B站小电视": {
                provider: "B站",
                provider_url: "https://bilibili.com",
                id: ["c1d59f439e379ee50eef488bcb5e5378e5044ea4", "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24", "1f0b87f731a671079842116e0991c91c2c88645a", "87f46748d3f142ebc6586ff58860d0e2fc8263ba", "26702dcafdab5e8225b43ffd23c94ac1ff932654", "d04dba7b5465779e9755d2ab6f0a897b9b33bb77", "911f987aa8bc1bee12d52aafe62bc41ef4474e6c", "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d", "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff", "0d15c7e2ee58e935adc6a7193ee042388adc22af", "9f996894a39e282ccf5e66856af49483f81870f3", "90cf159733e558137ed20aa04d09964436f618a1", "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c", "0793d949b18d7be716078349c202c15ff166f314", "23269aeb35f99daee28dda129676f6e9ea87934f", "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6", "c666f55e88d471e51bbd9fab9bb308110824a6eb", "a8111ad55953ef5e3be3327ef94eb4a39d535d06", "b9c41de8e82dd7a8515ae5e3cb63e898bf245186", "1abc628f6d4f4caf9d0e7800878f4697abbc8273", "5443c22b4d07fb1907ccc610c8e6db254f2461b7", "f85c354995bd99e28fc76c869bfe42ba6438eff4", "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1", "8b196675b53af58264f383c50ad0945048290b33", "61822c7e9aae5da76475e7892534545336b23a6f", "09dd16a7aa59b77baa1155d47484409624470c77", "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751", "180129b8ea851044ce71caf55cc8ce44bd4a4fc8", "cead1c351ab8d79e9f369605beb90148db0fbed3", "bb690d4107620f1c15cff29509db529a73aee261", "fe31c08edad661d63762b04e17b8d5ae3c71a757", "45821a01f51bc867da9edbaa2e070410819a95b2", "241ee304e44c0af029adceb294399391e4737ef2", "56ab10b624063e966bfcb76ea5dc4794d87dfd47", "c9e990da7f6e93975e25fd8b70e2e290aa4086ef", "6e72339f346a692a495b123174b49e4e8e781303", "89712c0d4af73e67f89e35cbc518420380a7f6f4", "fc7e829b845c43c623c8b490ee3602b7f0e76a31", "9e55fd9b500ac4b96613539f1ce2f9499e314ed9", "34db290afd2963723c6eb3c4560667db7253a21a", "8b0ec90e6b86771092a498c54f09fc94621c1900", "c32d39db2737f89b904ca32700d140a9241b0767", "7cfa62dafc59798a3d3fb262d421eeeff166cfa4", "093c1e2c490161aca397afc45573c877cdead616", "7e71cde7858f0cd50d74b0264aa26db612a8a167", "b9cbc755c2b3ee43be07ca13de84e5b699a3f101", "72ccad6679fea0d14cce648b4d818e09b8ffea2d", "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea", "4bc022533ef31544ca0d72c12c808cf4a1cce3e3", "0b8cb81a68de5d5365212c99375e7ace3e7891b7"],
                url: `https://i0.hdslb.com/bfs/emote/[id].png@56w_56h.webp`
            },
            "编程猫": {
                provider: "编程猫",
                provider_url: "https://shequ.codemao.cn",
                id: ["5c/huanglianwx_thumb", "0b/tootha_thumb", "6a/laugh", "14/tza_thumb", "af/kl_thumb", "0b/wabi_thumb", "f4/cj_thumb", "6e/shamea_thumb", "c3/zy_thumb", "29/bz_thumb", "71/bs2_thumb", "6d/lovea_thumb", "9d/sada_thumb", "19/heia_thumb", "8f/qq_thumb", "b6/sb_thumb", "58/mb_thumb", "d9/landeln_thumb", "98/yhh_thumb", "6d/zhh_thumb", "a6/x_thumb", "af/cry", "73/wq_thumb", "9e/t_thumb", "cc/haqianv2_thumb", "27/bba_thumb", "7c/angrya_thumb", "5c/yw_thumb", "a5/cza_thumb", "70/88_thumb", "e9/sk_thumb", "24/sweata_thumb", "40/kunv2_thumb", "96/huangliansj_thumb", "90/money_thumb", "0c/sw_thumb", "40/cool_thumb", "20/huanglianse_thumb", "49/hatea_thumb", "36/gza_thumb", "d9/dizzya_thumb", "1a/bs_thumb", "62/crazya_thumb", "91/h_thumb", "6d/yx_thumb", "60/numav2_thumb", "89/hufen_thumb", "40/hearta_thumb", "ea/unheart", "58/pig", "6e/panda_thumb", "81/rabbit_thumb", "d6/ok_thumb", "d9/ye_thumb", "d8/good_thumb", "ae/buyao_org", "d0/z2_thumb", "40/come_thumb", "d8/sad_thumb", "7a/shenshou_thumb", "60/horse2_thumb", "15/j_thumb", "bc/fuyun_thumb", "1e/geiliv2_thumb", "f2/wg_thumb", "70/vw_thumb", "bc/otm_thumb", "c4/liwu_thumb", "d3/clock_thumb", "9f/huatongv2_thumb", "d9/lazhuv2_thumb", "3a/cakev2_thumb", "a5/hb_fahongbao2016_thumb", "65/hb_qiangdao2016_thumb", "c8/lxhzuiyou_thumb", "64/lxhtongku_thumb", "67/gangnamstyle_thumb", "fa/lxhtouxiao_thumb", "03/lxhjiayou_thumb", "b6/doge_thumb", "34/xiaoku_thumb", "f4/xklzhuanquan_thumb", "ee/mango_03_thumb", "64/mango_07_thumb", "5c/mango_12_thumb", "9f/mango_02_thumb", "49/mango_11_thumb", "cc/yangniandj_thumb", "6b/watermelon", "c0/football", "46/mothersday_thumb", "36/carnation_thumb", "e5/soap_thumb", "e6/youqian_thumb", "dc/earth1r_thumb", "dc/flag_thumb", "87/lxhxuyuan_thumb", "92/fan", "f4/zhaji_thumb", "00/snow_thumb", "ee/mashangyouduixiang_thumb", "30/madaochenggong_thumb", "f8/hongyun_thumb", "0b/hongbaofei2014_thumb", "20/alizuoguiliannew_thumb", "de/aliwanew_thumb"],
                url: `http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/[id].gif`
            },
        };
        function emojiSelecter() {
            var root = {};
            root.onselect = null;
            root.isopen = false;
            function changeEmojiGroup(name) {
                var x = document.querySelector(".app-content-input-icongroup-top");
                document.querySelector(".app-content-input-icongroup-top").innerHTML = "";
                var y = emoji[name];
                if (!y) return;
                var z = document.createElement("div");
                var z1 = document.createElement("div");
                z.className = "app-content-input-icongroup-top-provider";
                z1.className = "app-content-input-icongroup-top-selecter";
                z.innerHTML = `本表情由 <a href="${y.provider_url}">${y.provider}</a> 提供`;
                for (let i in y.id) {
                    let z2 = document.createElement("img");
                    z2.src = y.url.replace("[id]", y.id[i]);
                    z2.id = name + "_" + i;
                    z2.draggable = false;
                    z2.addEventListener("click", function () {
                        if (root.onselect) {
                            root.onselect(this.id);
                        }
                    });
                    z1.append(z2);
                };
                x.append(z, z1);
            };
            function init() {
                var x = document.querySelector(".app-content-input-icongroup-bottom");
                for (let i of Object.keys(emoji)) {
                    let z = document.createElement("div");
                    z.innerText = i;
                    z.addEventListener("click", function () {
                        changeEmojiGroup(this.innerText);
                    });
                    x.append(z);
                };
                changeEmojiGroup(Object.keys(emoji)[0])
            };
            function open({ x, y }) {
                document.querySelector(".app-content-input-icongroup").style.display = "";
                document.querySelector(".app-content-input-icongroup").style.top = y + "px";
                document.querySelector(".app-content-input-icongroup").style.left = x + "px";
                root.isopen = true;
            };
            function close() {
                document.querySelector(".app-content-input-icongroup").style.display = "none";
                root.isopen = false;
            };
            Object.assign(root, { changeEmojiGroup, open, close, init });
            return root;
        };
        function it(name, room_id) {
            if (!name) location.reload();
            var renlist = [];
            var wwwwww = 0;
            var wwwwwwww = 0;
            var sleeplenmgth = 0;
            const ES = emojiSelecter();
            ES.init();
            if (localStorage.getItem("xhchat_isreadannouncement") !== "3") {
                localStorage.setItem("xhchat_isreadannouncement", "3")
                var x = new xhdialog.Dialog(
                    {
                        title: "近期更新：v1.3.0",
                        content:
                            `1. 添加表情功能：目前有QQ、B站、编程猫的表情
2. 添加图片功能，图片发送后，将按图片大小的40%显示
3. 其他`
                        , buttons: [{ text: "确认", value: !0, closeOnClick: !0, class: "xhdialog-options-btn-confirm" }]
                    });
                x.open();
            }
            function updataman() {
                document.querySelector("r").innerText = renlist.length;
                document.querySelector(".app-content-body-left-top").innerHTML = renlist.map(v => `<div class="app-content-body-left-div" title="${v}">${v}</div>`).join("")
            }
            function sleepsend() {
                document.querySelector("input").disabled = true;
                document.querySelector("button").disabled = true;
                var x = Number(sleeplenmgth);
                document.querySelector("input").placeholder = `请 静息 ${x}秒 后再来吧~`
                var y = setInterval(() => {
                    x--;
                    document.querySelector("input").placeholder = `请 静息 ${x}秒 后再来吧~`
                    if (x === 0) {
                        clearInterval(y)
                        document.querySelector("input").disabled = false;
                        document.querySelector("button").disabled = false;
                        document.querySelector("input").placeholder = `静息结束！可以继续发消息~`
                        setTimeout(() => {
                            document.querySelector("input").placeholder = `说点啥好呢？`
                        }, 1000)
                    }
                }, 1000);
            }
            function ask() {
                if (wwwwwwww === 0) {
                    wwwwwwww = 1;
                }
            }
            function dbToMessage() {
                const db = dbsql.result
                const tx = db.transaction("messages", "readwrite")
                const todosStore = tx.objectStore("messages")
                const query = todosStore.getAll()
                query.onsuccess = () => {
                    console.log("消息数据库", query.result);
                    query.result.map(v => JSON.parse(v.text)).forEach(v => {
                        if (v.type === 0) {
                            addSystemMsg(v.data);
                        } else {
                            if (v.data.side === 1) {
                                if (v.data.data.type) {
                                    addImageMsg(name, v.data.data.url)
                                } else {
                                    addmsg(name, v.data.data)
                                }
                            } else {
                                if (v.data.data.type) {
                                    addImageMsg(v.data.name, v.data.data.url)
                                } else {
                                    addmsg(v.data.name, v.data.data)
                                }
                            }
                        }
                    })
                }
            }
            function addMessageToDB(data) {
                const db = dbsql.result
                const tx = db.transaction("messages", "readwrite")
                const todosStore = tx.objectStore("messages")
                const text = JSON.stringify(data)
                todosStore.put({ text });
            }
            function addmsg(n, s) {
                var r = document.createElement("div");
                r.className = "app-content-body-right-div"
                var r1 = document.createElement("div");
                r1.className = "app-content-body-right-div-top"
                var r2 = document.createElement("div");
                r2.className = "app-content-body-right-div-bottom"
                r1.innerText = n;
                r2.innerText = s;
                r2.innerHTML = r2.innerHTML.replace(/\[(.+)\]/g, function (v, r) {
                    return r.split("][").map(x => {
                        var w = x.split("_");
                        var y = emoji[w[0]];
                        return `<img src="${y.url.replace("[id]", y.id[Number(w[1])])}" draggable="false">`;
                    }).join("")
                })
                r.append(r1, r2);
                r.className += ` ${n === name ? "right" : "left"}`
                document.querySelector(".app-content-body-right").appendChild(r);
                var ws = document.querySelector(".app-content-body-right")
                ws.scrollTop = ws.scrollHeight;
            }
            function dataURLtoBlob(dataurl) {
                var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],
                    bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);
                while (n--) {
                    u8arr[n] = bstr.charCodeAt(n);
                }
                return new Blob([u8arr], { type: mime });
            }
            function addImageMsg(n, data) {
                var r = document.createElement("div");
                r.className = "app-content-body-right-div"
                var r1 = document.createElement("div");
                r1.className = "app-content-body-right-div-top"
                var r2 = document.createElement("img");
                r2.className = "app-content-body-right-div-bottomimg"
                r2.draggable = false;
                r1.innerText = n;
                r2.src = data;
                r2.addEventListener("click", function () {
                    var x = URL.createObjectURL(dataURLtoBlob(data));
                    window.open(x);
                })
                r2.title = "点击打开原图";
                r.append(r1, r2);
                r.className += ` ${n === name ? "right" : "left"}`
                document.querySelector(".app-content-body-right").appendChild(r);
                var ws = document.querySelector(".app-content-body-right")
                ws.scrollTop = ws.scrollHeight;
            }
            function addSystemMsg(s) {
                var r = document.createElement("div");
                r.className = "app-content-body-right-xt"
                r.innerText = s;
                document.querySelector(".app-content-body-right").appendChild(r);
                var ws = document.querySelector(".app-content-body-right")
                ws.scrollTop = ws.scrollHeight;
            };
            var webs = new WebSocket("wss://socket-cr.codemao.cn:9090/coconut/?x-coconut-authorization=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3b3JrX2lkIjoiMTc5MjE4MDQ1IiwidXNlcl9pZCI6IjkyMzIxNTEifQ.PEJx3asH_HECfXzs0VmjNUGif2tDSKbBvznCP_iGHmc&X-CodeMao-Mobile-Requested=%7B%22group_id%22%3A%22b494b662-67e9-4b54-a86b-82ac09ef9284%22%2C%22platform%22%3A%22web%22%2C%22origin%22%3A%22coconut%22%7D&EIO=3&transport=websocket");
            webs.onclose = function () {
                console.log("服务器中断！")
                document.querySelector("#app").style.display = "none";
                xhdialog.alert("服务器中断！即将重新加载！").then(() => { location.reload() })
            };
            function sendMessage(e) {
                if (e.length > 100) {
                    addSystemMsg("消息太长啦")
                    return
                }
                var x = 0;
                for (let i of String(e)) {
                    if ((i === " " || i === "　" || i === "\t") === false) {
                        x = 1;
                        break
                    }
                }
                if (x !== 1) {
                    addSystemMsg("消息不能为空哦")
                    return
                };
                wwwwww++;
                if (wwwwww > 5) {
                    wwwwww = 0;
                    sleeplenmgth += 3;
                    sleepsend();
                }
                if (new RegExp(dirty.join("|")).test(String(e))) {
                    addSystemMsg(">:(")
                }
                webs.send(`42["broadcast",${JSON.stringify({
                    data: String(e).replace(new RegExp(dirty.join("|"), "g"), function (v) { iss = 1; return "*".repeat(v.length) }),
                    room_id: room_id,
                    username: name
                })}]`);
            }
            function joinMan(r) {
                webs.send(`42["join",${JSON.stringify({
                    room_name: "XH_zu8s1tQ0g1",
                    username: r,
                    room_id: room_id,
                    work_id: "179218045"
                })}]`)
            }
            function leave(r) {
                webs.send(`42["leave",${JSON.stringify({
                    room_name: "XH_zu8s1tQ0g1",
                    username: r,
                    room_id: room_id,
                    work_id: "179218045"
                })}]`)
            }
            function ping() {
                webs.send("2");
            }
            function init() {
                dbToMessage();
                document.querySelector(".app-content-input input").addEventListener("keypress", function (v) {
                    if (v.keyCode === 13 && this.value !== "") {
                        sendMessage(this.value);
                        this.value = "";
                    }
                });
                document.querySelector(".app-content-input button").addEventListener("click", function (v) {
                    if (document.querySelector(".app-content-input input").value !== "") {
                        sendMessage(document.querySelector(".app-content-input input").value);
                        document.querySelector(".app-content-input input").value = "";
                    } else {
                        xhdialog.alert("欸，这框里...啥也没有欸")
                    }
                });
                document.querySelector("#app").addEventListener("click", function (v) {
                    if (v.target) {
                        if (v.target.className) {
                            if (v.target.className.includes(".app-content-input-icongroup") === false) {
                                ES.close();
                            }
                        }
                    }
                })
                document.querySelectorAll(".app-content-input-icon")[0].addEventListener("click", function (v) {
                    if (ES.isopen) {
                        ES.close();
                    } else {
                        ES.open({ x: v.pageX, y: v.pageY - 200 });
                    }
                });
                document.querySelectorAll(".app-content-input-icon")[1].addEventListener("click", function (v) {
                    var x = document.createElement("input");
                    x.type = "file";
                    x.accept = "image/*";
                    x.onchange = function () {
                        if (x.files.length !== 0) {
                            var y = x.files[0];
                            var z = new FileReader();
                            z.onload = function () {
                                webs.send(`42["broadcast",${JSON.stringify({
                                    data: {
                                        type: "img",
                                        url: z.result,
                                    },
                                    room_id: room_id,
                                    username: name
                                })}]`);
                            }
                            z.readAsDataURL(y)
                        }
                    };
                    x.click();
                });
                document.querySelector(".app-content-body-left-bottom-clearmsg").addEventListener("click", function () {
                    xhdialog.confirm("你真的要清空聊天记录吗？").then(v => {
                        if (v) {
                            cleardbmsg();
                            document.querySelector(".app-content-body-right").innerHTML = "";
                        }
                    })
                });
                ES.onselect = function (v) {
                    document.querySelector(".app-content-input input").value += `[${v}]`;
                }
                document.querySelector(".app-content-body-left-bottom-setname").addEventListener("click", function () {
                    xhdialog.prompt("输入新名字（需要重进）").then(v => {
                        if (!v) return;
                        if (v.length > 15) {
                            xhdialog.alert("名字太长啦")
                            return
                        }
                        var x = 0;
                        for (let i of String(v)) {
                            if ((i === " " || i === "　" || i === "\t") === false) {
                                x = 1;
                                break
                            }
                        }
                        if (x !== 1) {
                            xhdialog.alert("名字不能为空哦")
                            return
                        }
                        localStorage.setItem("xhchat_username", String(v))
                        location.reload()
                    });
                });
                window.addEventListener("beforeunload", function () {
                    leave(name);
                    webs.close();
                })
            }
            function onmsg({ data }) {
                var d = data
                if (d.startsWith("0")) {
                    console.log(JSON.parse(d.slice(1)))
                    joinMan(name);
                    init();
                } else if (isNaN(Number(d)) === false) {
                    if (d === "3") {
                        console.log("服务器ping成功")
                    } else if (d === "1") {
                        console.log("服务器即将中断")
                    } else if (d === "40") {
                        console.log("服务器加入成功")
                    }
                } else if (d.startsWith("42")) {
                    var w = JSON.parse(d.slice(2));
                    console.log(w);
                    var d2 = w[1]
                    switch (w[0]) {
                        case "join":
                            addSystemMsg(`${d2.username} 进入了聊天室`)
                            addMessageToDB({
                                type: 0,
                                data: `${d2.username} 进入了聊天室`
                            });
                            if (d2.username != name) {
                                renlist.push(d2.username);
                            };
                            updataman()
                            break;
                        case "join_ack":
                            renlist = d2.username_list
                            if (wwwwwwww === 0) {
                                updataman()
                            }
                            ask()
                            break;
                        case "leave":
                            addSystemMsg(`${d2.username} 离开了聊天室`)
                            addMessageToDB({
                                type: 0,
                                data: `${d2.username} 离开了聊天室`
                            });
                            renlist.splice(renlist.indexOf(d2.username), 1);
                            updataman()
                            break;
                        case "broadcast":
                            if (typeof d2.data === "string") {
                                addmsg(d2.username, d2.data)
                                addMessageToDB({
                                    type: 1,
                                    data: {
                                        data: d2.data,
                                        name: d2.username,
                                        side: d2.username === name ? 1 : 0
                                    }
                                });
                            } else {
                                var type = d2.data.type;
                                if (type === "img") {
                                    addImageMsg(d2.username, d2.data.url);
                                    addMessageToDB({
                                        type: 1,
                                        data: {
                                            data: d2.data,
                                            name: d2.username,
                                            side: d2.username === name ? 1 : 0
                                        }
                                    });
                                } else if (type === "kick_user") {
                                    if (d2.data.name === name) {
                                        webs.close();
                                    }
                                } else if (type === "restart_server") {
                                    webs.close();
                                } else if (type === "restartjoin_user") {
                                    if (d2.data.name === name) {
                                        location.reload();
                                    }
                                } else if (type === "system") {
                                    addSystemMsg(d2.data.data);
                                }
                            }
                            break;
                        case "error":
                            document.querySelector("#app").style.display = "none";
                            xhdialog.alert(d2.message).then(() => { location.reload() })
                            break;
                    }
                }
            }
            setInterval(() => {
                ping();
            }, 50000)
            webs.onmessage = onmsg;
        };
        function itroom(name) {
            var _0x35a7 = ['19180GYGpTa', 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3b3JrX2lkIjoiMTc5MjE4MDQ1IiwidXNlcl9pZCI6IjkyMzIxNTEifQ.PEJx3asH_HECfXzs0VmjNUGif2tDSKbBvznCP_iGHmc', '177tkxsTb', 'status', '20105KtFwBl', 'GET', '34349SAKTxL', 'send', '1WNuPUw', '4973bpDavB', 'onreadystatechange', '{\x22group_id\x22:\x22b494b662-67e9-4b54-a86b-82ac09ef9284\x22,\x22platform\x22:\x22web\x22,\x22origin\x22:\x22coconut\x22}', 'x-codemao-mobile-requested', '198439BjBDUX', 'readyState', '127482YayARz', 'x-coconut-authorization', '15895tGhOLr', 'setRequestHeader', 'responseText', 'https://socket-cr.codemao.cn/coconut/room?work_id=179218045', 'open', '22iVwIRP']; (function (_0x510f80, _0x303d58) { function _0x1fa519(_0xa92ef6, _0x5ce500) { return _0x4c5d(_0xa92ef6 - 0x197, _0x5ce500); } while (!![]) { try { var _0x1f03c4 = parseInt(_0x1fa519(0x296, 0x28b)) + parseInt(_0x1fa519(0x29a, 0x2a0)) * parseInt(_0x1fa519(0x292, 0x28c)) + -parseInt(_0x1fa519(0x28a, 0x284)) + -parseInt(_0x1fa519(0x288, 0x28a)) + parseInt(_0x1fa519(0x298, 0x290)) + -parseInt(_0x1fa519(0x28c, 0x28c)) * parseInt(_0x1fa519(0x291, 0x292)) + -parseInt(_0x1fa519(0x29b, 0x295)) * -parseInt(_0x1fa519(0x294, 0x288)); if (_0x1f03c4 === _0x303d58) { break; } else { _0x510f80['push'](_0x510f80['shift']()); } } catch (_0x5952b0) { _0x510f80['push'](_0x510f80['shift']()); } } }(_0x35a7, 0x43ee4)); function _0x4c5d(_0x3210ab, _0x5ce1c5) { _0x4c5d = function (_0x35a754, _0x4c5d06) { _0x35a754 = _0x35a754 - 0xee; var _0x200ec9 = _0x35a7[_0x35a754]; return _0x200ec9; }; return _0x4c5d(_0x3210ab, _0x5ce1c5); } function getroom() { return new Promise(_0x503de5 => { function _0x3d39ba(_0x39540a, _0x139dbb) { return _0x4c5d(_0x39540a - 0xe5, _0x139dbb); } var _0x47520b = new XMLHttpRequest(); _0x47520b[_0x3d39ba(0x1d3, 0x1cb)] = function () { function _0x1265cd(_0x31b46b, _0x1e01d4) { return _0x3d39ba(_0x1e01d4 - 0x18f, _0x31b46b); } if (_0x47520b[_0x1265cd(0x35c, 0x366)] == 0x4 && _0x47520b[_0x1265cd(0x36c, 0x372)] == 0xc8) { _0x503de5(_0x47520b[_0x1265cd(0x370, 0x36b)]); } }; _0x47520b[_0x3d39ba(0x1de, 0x1e7)](_0x3d39ba(0x1e5, 0x1ee), _0x3d39ba(0x1dd, 0x1e7), !![]); _0x47520b[_0x3d39ba(0x1db, 0x1e7)](_0x3d39ba(0x1d9, 0x1cf), _0x3d39ba(0x1e1, 0x1e6)); _0x47520b[_0x3d39ba(0x1db, 0x1d0)](_0x3d39ba(0x1d5, 0x1d9), _0x3d39ba(0x1d4, 0x1de)); _0x47520b[_0x3d39ba(0x1e7, 0x1ed)](); }); }
            getroom().then(v => {
                var s = JSON.parse(v);
                if (s.data) {
                    if (s.data.length !== 0) {
                        var r = s.data[0];
                        if (r) {
                            var ren = r.username_list;
                            var id = r.id;
                            if (ren.includes(String(name))) {
                                localStorage.removeItem("xhchat_username");
                                xhdialog.alert("昵称已存在，请重新设置昵称").then(() => { location.reload() })
                            } else {
                                it(String(name), Number(id));
                            }
                        } else {
                            xhdialog.alert("未知错误").then(() => { location.reload() })
                        }
                    } else {
                        xhdialog.alert("正在初始化服务器，整个过程大约需要5秒")
                        var ifr = document.createElement("iframe");
                        document.body.append(ifr);
                        ifr.src = "https://coco.codemao.cn/editor/player/179218045?channel=h5";
                        ifr.onload = function () {
                            setInterval(() => {
                                getroom().then(v => {
                                    if (s.data) {
                                        if (s.data.length !== 0) {
                                            location.reload();
                                        };
                                    };
                                });
                            }, 1000)
                        }
                    }
                } else {
                    xhdialog.alert("未知错误").then(() => { location.reload() })
                }
            })
        }
        if (localStorage.getItem("xhchat_username")) {
            if ((localStorage.getItem("xhchat_username").includes("小宏") || localStorage.getItem("xhchat_username").includes("作者") || localStorage.getItem("xhchat_username").includes("开发者")) && String(localStorage[_0x5fdd4e(0x1c0, 0x1c6)](_0x5fdd4e(0x1c9, 0x1c8)))[_0x5fdd4e(0x1be, 0x1b8)](_0x5fdd4e(0x1c4, 0x1c5)) === ![]) {
                localStorage.setItem("xhchat_username", "违规昵称" + String(Math.random() * 1e17).replace(/0/g, ""))
                location.reload();
                return
            }
            if (new RegExp(dirty.join("|")).test(localStorage.getItem("xhchat_username"))) {
                localStorage.setItem("xhchat_username", "违规昵称" + String(Math.random() * 1e17).replace(/0/g, ""))
                location.reload();
                return
            }
            itroom(String(localStorage.getItem("xhchat_username")));
        } else {
            xhdialog.prompt("输入昵称以加入服务器").then(v => {
                if (!v) location.reload();
                if (v.length > 15) {
                    xhdialog.alert("名字太长啦").then(() => { location.reload() });
                    return
                }
                var x = 0;
                for (let i of String(v)) {
                    if ((i === " " || i === "　" || i === "\t") === false) {
                        x = 1;
                        break
                    }
                }
                if (x !== 1) {
                    xhdialog.alert("名字不能为空哦").then(() => { location.reload() });
                    return
                }
                localStorage.setItem("xhchat_username", String(v))
                itroom(v);
            });
        }
    }()
</script>
